var Drag={obj:null,BD:null,init:function(n,t,i,r){var t,u,f;if(r==null&&(t.onmousedown=Drag.start),t.root=i,Drag.BD=n,isNaN(parseInt(t.root.style.left))&&(t.root.style.left="0px"),isNaN(parseInt(t.root.style.top))&&(t.root.style.top="0px"),t.root.onDragStart=new Function,t.root.onDragEnd=new Function,t.root.onDrag=new Function,r!=null){t=Drag.obj=t;r=Drag.fixe(r);u=parseInt(t.root.style.top);f=parseInt(t.root.style.left);t.root.onDragStart(f,u,r.pageX,r.pageY);t.lastMouseX=r.pageX;t.lastMouseY=r.pageY;document.onmousemove=Drag.drag;document.onmouseup=Drag.end}},start:function(n){var t,i,r;if(!this.UnDrag){t=Drag.obj=this;n=Drag.fixEvent(n);i=parseInt(t.root.style.top);r=parseInt(t.root.style.left);t.root.onDragStart(r,i,n.pageX,n.pageY);return t.lastMouseX=n.pageX,t.lastMouseY=n.pageY,document.onmousemove=Drag.drag,document.onmouseup=Drag.end,!1}},drag:function(n){var i,r,u;if(!this.UnDrag){n=Drag.fixEvent(n);var t=Drag.obj,f=n.pageY,e=n.pageX,o=parseInt(t.root.style.top),s=parseInt(t.root.style.left);document.all?Drag.obj.setCapture():n.preventDefault();i=Drag.BD;r=s+e-t.lastMouseX;u=o+(f-t.lastMouseY);r<0?r=0:r+t.root.offsetWidth>i.clientWidth&&(r=i.clientWidth-t.root.offsetWidth);u<i.scrollTop&&(u=i.scrollTop);u+t.root.offsetHeight>i.scrollTop+i.clientHeight&&(u=i.scrollTop+i.clientHeight-t.root.offsetHeight);t.root.style.left=r+"px";t.root.style.top=u+"px";t.lastMouseX=e;t.lastMouseY=f;t.root.onDrag(r,u,n.pageX,n.pageY);return!1}},end:function(){if(!this.UnDrag){document.all&&Drag.obj.releaseCapture();document.onmousemove=null;document.onmouseup=null;Drag.obj.root.onDragEnd(parseInt(Drag.obj.root.style.left),parseInt(Drag.obj.root.style.top));Drag.obj=null}},fixEvent:function(n){var t=Math.max(document.documentElement.scrollLeft,document.body.scrollLeft),i=Math.max(document.documentElement.scrollTop,document.body.scrollTop);return typeof n=="undefined"&&(n=window.event),typeof n.layerX=="undefined"&&(n.layerX=n.offsetX),typeof n.layerY=="undefined"&&(n.layerY=n.offsetY),typeof n.pageX=="undefined"&&(n.pageX=n.clientX+t-document.body.clientLeft),typeof n.pageY=="undefined"&&(n.pageY=n.clientY+i-document.body.clientTop),n}};(function(n){n.fn.resizable4epoint=function(t){function i(t){var i=t.data,r=n.data(i.target,"resizable").options,u,f;i.dir.indexOf("e")!=-1&&(u=i.startWidth+t.pageX-i.startX,u=Math.min(Math.max(u,r.minWidth),r.maxWidth),i.width=u);i.dir.indexOf("s")!=-1&&(f=i.startHeight+t.pageY-i.startY,f=Math.min(Math.max(f,r.minHeight),r.maxHeight),i.height=f);i.dir.indexOf("w")!=-1&&(i.width=i.startWidth-t.pageX+i.startX,i.width>=r.minWidth&&i.width<=r.maxWidth&&(i.left=i.startLeft+t.pageX-i.startX));i.dir.indexOf("n")!=-1&&(i.height=i.startHeight-t.pageY+i.startY,i.height>=r.minHeight&&i.height<=r.maxHeight&&(i.top=i.startTop+t.pageY-i.startY))}function r(t){var i=t.data,r=i.target;return n.boxModel?i.width-i.deltaWidth:i.width}function u(t){return n.data(t.data.target,"resizable").options.onStartResize.call(t.data.target,t),!1}function f(t){return i(t),n.data(t.data.target,"resizable").options.onResize.call(t.data.target,t)!=!1&&r(t),!1}function e(t){i(t,!0);var u=r(t);return n(document).unbind(".resizable"),n.data(t.data.target,"resizable").options.onStopResize.call(t.data.target,t,u),!1}return this.each(function(){function c(t){var r=h(t);r==""?n(i).css("cursor","default"):n(i).css("cursor",r+"-resize")}function l(t){var s=h(t),r;s!=""&&(r={target:this,dir:s,startLeft:o("left"),startTop:o("top"),left:o("left"),top:o("top"),startX:t.pageX,startY:t.pageY,startWidth:n(i).outerWidth(),startHeight:n(i).outerHeight(),width:n(i).outerWidth(),height:n(i).outerHeight(),deltaWidth:n(i).outerWidth()-n(i).width(),deltaHeight:n(i).outerHeight()-n(i).height()},n(document).bind("mousedown.resizable",r,u),n(document).bind("mousemove.resizable",r,f),n(document).bind("mouseup.resizable",r,e))}function h(t){var f="",u=n(i).offset(),c=n(i).outerWidth(),l=n(i).outerHeight(),e=r.edge,s,o,h;for(t.pageY>u.top&&t.pageY<u.top+e?f+="n":t.pageY<u.top+l&&t.pageY>u.top+l-e&&(f+="s"),t.pageX>u.left&&t.pageX<u.left+e?f+="w":t.pageX<u.left+c&&t.pageX>u.left+c-e&&(f+="e"),s=r.handles.split(","),o=0;o<s.length;o++)if(h=s[o].replace(/(^\s*)|(\s*$)/g,""),h=="all"||h==f)return f;return""}function o(t){var r=parseInt(n(i).css(t));return isNaN(r)?0:r}var r=null,s=n.data(this,"resizable"),i;(s?(n(this).unbind(".resizable"),r=n.extend(s.options,t||{})):r=n.extend({},n.fn.resizable4epoint.defaults,t||{}),r.disabled!=!0)&&(n.data(this,"resizable",{options:r}),i=this,n(this).bind("mousemove.resizable",c).bind("mousedown.resizable",l))})};n.fn.resizable4epoint.defaults={disabled:!1,handles:"n, e, s, w, ne, se, sw, nw, all",minWidth:10,minHeight:10,maxWidth:1e4,maxHeight:1e4,edge:5,onStartResize:function(){},onResize:function(){},onStopResize:function(){}}})(jQuery)